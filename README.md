# ü§ñ –ë–æ—Ç-–ø–æ–º–æ—â–Ω–∏–∫ –¥–ª—è –º–∏–≥—Ä–∞–Ω—Ç–æ–≤

Telegram-–±–æ—Ç –¥–ª—è –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –º–∏–≥—Ä–∞–Ω—Ç–∞–º –æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–π—Ç–∏ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–µ –æ–±—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ.

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

–≠—Ç–æ—Ç –±–æ—Ç –ø–æ–º–æ–≥–∞–µ—Ç –º–∏–≥—Ä–∞–Ω—Ç–∞–º –Ω–µ –∑–∞–±—ã—Ç—å –≤–æ–≤—Ä–µ–º—è –ø—Ä–æ–π—Ç–∏ –æ–±—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –ø–æ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—é. –û–Ω:

- –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –∑–∞–ø–æ–º–∏–Ω–∞–µ—Ç –≤—ã–±—Ä–∞–Ω–Ω—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é –æ–±—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –∫–∞–∂–¥—ã–µ 5 –¥–Ω–µ–π (–Ω–∞ 5, 10, 15, 20, 25 –∏ 30 –¥–µ–Ω—å)
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å –æ–±—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –∏ –æ—Å—Ç–∞–≤—à–µ–µ—Å—è –≤—Ä–µ–º—è
- –ü–æ–∑–≤–æ–ª—è–µ—Ç –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç

## üóÇÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
migrant_bot/
‚îÇ
‚îú‚îÄ‚îÄ bot.py                 # –≥–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª –±–æ—Ç–∞ ‚Äî –ª–æ–≥–∏–∫–∞ –¥–∏–∞–ª–æ–≥–æ–≤ –∏ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π
‚îú‚îÄ‚îÄ database.py            # –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (–º–æ–¥–µ–ª–∏ User –∏ Case, –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è)
‚îú‚îÄ‚îÄ scheduler.py           # –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ (APScheduler) ‚Äî –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, –∫–æ–º—É —Å–ª–∞—Ç—å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è
‚îú‚îÄ‚îÄ texts.py               # —Ç–µ–∫—Å—Ç—ã –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è –∏ 4 –¥–∏–∞–≥–Ω–æ–∑–æ–≤
‚îú‚îÄ‚îÄ requirements.txt       # –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —á–µ—Ä–µ–∑ pip
‚îú‚îÄ‚îÄ .env.example           # –ø—Ä–∏–º–µ—Ä —Ñ–∞–π–ª–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ README.md              # –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
‚îî‚îÄ‚îÄ bot.db                 # (—Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏) –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö SQLite
```

## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Python

–£–±–µ–¥–∏—Å—å, —á—Ç–æ —É —Ç–µ–±—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Python 3.10 –∏–ª–∏ –≤—ã—à–µ:

```bash
python --version
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

–ü–µ—Ä–µ–π–¥–∏ –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏:

```bash
cd migrant_bot
pip install -r requirements.txt
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–æ—Ç–∞

1. –°–æ–∑–¥–∞–π —Å–≤–æ–µ–≥–æ –±–æ—Ç–∞ —á–µ—Ä–µ–∑ [@BotFather](https://t.me/BotFather) –≤ Telegram
2. –°–∫–æ–ø–∏—Ä—É–π –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω
3. –°–∫–æ–ø–∏—Ä—É–π —Ñ–∞–π–ª `.env.example` –≤ `.env`:

```bash
cp .env.example .env
```

4. –û—Ç–∫—Ä–æ–π —Ñ–∞–π–ª `.env` –∏ –≤—Å—Ç–∞–≤—å —Å–≤–æ–π —Ç–æ–∫–µ–Ω:

```ini
BOT_TOKEN=123456789:—Ç–≤–æ–π-—Ä–µ–∞–ª—å–Ω—ã–π-—Ç–æ–∫–µ–Ω
DATABASE_URL=sqlite+aiosqlite:///./bot.db
TZ=Asia/Vladivostok
START_MODE=category
DAILY_REMINDER_HOUR=9
```

### 4. –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞

```bash
python bot.py
```

–ï—Å–ª–∏ –≤—Å—ë –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ, —Ç—ã —É–≤–∏–¥–∏—à—å —Å–æ–æ–±—â–µ–Ω–∏–µ:

```
–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞
–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–ø—É—â–µ–Ω. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 9:00 (Asia/Vladivostok)
–ë–æ—Ç –∑–∞–ø—É—â–µ–Ω
```

## üì± –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–æ—Ç–∞

### –ö–æ–º–∞–Ω–¥—ã:

- `/start` ‚Äî –Ω–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å –±–æ—Ç–æ–º, –≤—ã–±—Ä–∞—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é –æ–±—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è
- `/status` ‚Äî —É–∑–Ω–∞—Ç—å —Å—Ç–∞—Ç—É—Å –æ–±—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è (—Å–∫–æ–ª—å–∫–æ –¥–Ω–µ–π –ø—Ä–æ—à–ª–æ/–æ—Å—Ç–∞–ª–æ—Å—å)
- `/stop` ‚Äî –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è
- `/help` ‚Äî –ø–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É

### –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –æ–±—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π:

1. ü´Å **–¢—É–±–µ—Ä–∫—É–ª—ë–∑** ‚Äî –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤ –ø—Ä–æ—Ç–∏–≤–æ—Ç—É–±–µ—Ä–∫—É–ª—ë–∑–Ω—ã–π –¥–∏—Å–ø–∞–Ω—Å–µ—Ä
2. üß¨ **–°–∏—Ñ–∏–ª–∏—Å** ‚Äî –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤ –∫–æ–∂–Ω–æ-–≤–µ–Ω–µ—Ä–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –¥–∏—Å–ø–∞–Ω—Å–µ—Ä
3. üß´ **–í–ò–ß-–∏–Ω—Ñ–µ–∫—Ü–∏—è** ‚Äî –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤ –¶–µ–Ω—Ç—Ä –°–ü–ò–î
4. üíä **–ù–∞—Ä–∫–æ–º–∞–Ω–∏—è** ‚Äî –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤ –Ω–∞—Ä–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –¥–∏—Å–ø–∞–Ω—Å–µ—Ä

## ‚è∞ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è

–ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –ø–æ —Å–ª–µ–¥—É—é—â–µ–º—É –≥—Ä–∞—Ñ–∏–∫—É:

- **–î–µ–Ω—å 5** ‚Äî –ø–µ—Ä–≤–æ–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ
- **–î–µ–Ω—å 10** ‚Äî –≤—Ç–æ—Ä–æ–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ
- **–î–µ–Ω—å 15** ‚Äî —Ç—Ä–µ—Ç—å–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ
- **–î–µ–Ω—å 20** ‚Äî —á–µ—Ç–≤—ë—Ä—Ç–æ–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ
- **–î–µ–Ω—å 25** ‚Äî –ø—è—Ç–æ–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ
- **–î–µ–Ω—å 30** ‚Äî —Ñ–∏–Ω–∞–ª—å–Ω–æ–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ (–æ–±—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è)

–í—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ —Ñ–∞–π–ª–µ `.env` (–ø–∞—Ä–∞–º–µ—Ç—Ä `DAILY_REMINDER_HOUR`).

## üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

–ë–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç SQLite –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö:

### –¢–∞–±–ª–∏—Ü–∞ `users`:
- `id` ‚Äî –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π ID
- `tg_id` ‚Äî Telegram ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `username` ‚Äî –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ Telegram
- `created_at` ‚Äî –¥–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

### –¢–∞–±–ª–∏—Ü–∞ `cases`:
- `id` ‚Äî –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π ID
- `user_id` ‚Äî —Å—Å—ã–ª–∫–∞ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `category` ‚Äî –∫–∞—Ç–µ–≥–æ—Ä–∏—è –æ–±—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è
- `registered_at` ‚Äî –¥–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ –Ω–∞–±–ª—é–¥–µ–Ω–∏—è
- `deadline_at` ‚Äî –¥–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è (30 –¥–Ω–µ–π)
- `last_reminder_day` ‚Äî –¥–µ–Ω—å –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–≥–æ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è
- `active` ‚Äî –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –æ–±—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è (1 ‚Äî –∞–∫—Ç–∏–≤–Ω–æ, 0 ‚Äî –∑–∞–≤–µ—Ä—à–µ–Ω–æ)

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (.env)

- `BOT_TOKEN` ‚Äî —Ç–æ–∫–µ–Ω Telegram-–±–æ—Ç–∞
- `DATABASE_URL` ‚Äî –∞–¥—Ä–µ—Å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é SQLite)
- `TZ` ‚Äî —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å (–Ω–∞–ø—Ä–∏–º–µ—Ä, `Asia/Vladivostok`)
- `START_MODE` ‚Äî —Ä–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã (–ø–æ–∫–∞ —Ç–æ–ª—å–∫–æ `category`)
- `DAILY_REMINDER_HOUR` ‚Äî —á–∞—Å –æ—Ç–ø—Ä–∞–≤–∫–∏ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π (0-23)

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **aiogram 3.10** ‚Äî —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è Telegram-–±–æ—Ç–æ–≤
- **SQLAlchemy 2.0** ‚Äî ORM –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
- **aiosqlite** ‚Äî –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –¥—Ä–∞–π–≤–µ—Ä SQLite
- **APScheduler** ‚Äî –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á
- **python-dotenv** ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- **pytz** ‚Äî —Ä–∞–±–æ—Ç–∞ —Å —á–∞—Å–æ–≤—ã–º–∏ –ø–æ—è—Å–∞–º–∏

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ
- –ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –∏ –º–æ–∂–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- –í—Å–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞
- –ü—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –≤—ã–±–æ—Ä–µ —Ç–æ–π –∂–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å—Ç–∞—Ä–æ–µ –æ–±—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è

## ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:

1. –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã: `pip install -r requirements.txt`
2. –£–±–µ–¥–∏—Å—å, —á—Ç–æ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ —É–∫–∞–∑–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤ —Ñ–∞–π–ª–µ `.env`
3. –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏ ‚Äî —Ç–∞–º –±—É–¥–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö

---

**–£–¥–∞—á–∏! Go —Å –Ω–∞–º–∏! üöÄ**

